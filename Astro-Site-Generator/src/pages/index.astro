---
// Import components
import Layout from '../layouts/Layout.astro';
import Button from '../components/Button.astro';
import Image from '../components/Image.astro';
import Section from '../components/Section.astro';
import ItemsTemplate from '../components/ItemsTemplate.astro'; // New import
import CollectionCard from '../components/CollectionsCard.astro';
import ServiceCard from '../components/ServiceCard.astro'; // Re-import if needed

// Import query functions
import { fetchFeaturedItems } from '../utils/collections.js';
---
<Layout title="Home Page" description="Welcome to our Astro-powered website.">
  
  <!-- Welcome Section -->
  <Section>
    <h1>Welcome to Our Website</h1>
    <p>Your go-to platform for services and projects.</p>
    <Button text="Explore Services" href="/services" className="primary-button" />
  </Section>
  
  <!-- Featured Services Section -->
  <Section>
    <h2>Featured Services</h2>
    <ItemsTemplate
      collection="services"
      ItemComponent={ServiceCard}
      query={fetchFeaturedItems} // Pass the fetchFeaturedItems function
      columns={3} // Adjust as needed
      gap="1rem"
      viewAllHref="/services"
      viewAllText="View All Services"
    />
  </Section>
  
  <!-- Featured Projects Section -->
  <Section>
    <h2>Featured Projects</h2>
    <ItemsTemplate
      collection="projects"
      ItemComponent={CollectionCard}
      query={fetchFeaturedItems} // Assuming you have featured projects as well
      columns={3} // Adjust as needed
      gap="1.5rem"
      viewAllHref="/projects"
      viewAllText="View All Projects"
    />
  </Section>
  
  <!-- Highlight Section -->
  <Section className="highlight-section">
    <Image src="/assets/astro.svg" alt="Astro Logo" className="hero-image" />
    <p>Experience seamless performance with Astro!</p>
  </Section>
</Layout>

<style>
  .highlight-section {
    text-align: center;
    padding: 3rem 0;
  }
</style>
