---
import { executeQuery } from "../../utils/queries/executeQuery.js";
import ReactSlider from "./Slider.jsx";

// Destructure props for the slider
const {
  queryName,
  autoplay = true,
  autoplaySpeed = 3000,
  slidesShown = 1,
  slidesScrolled = 1,
  sideArrows = true,
  slideDirection = 'left', // Default direction
  slideDots = true, // Default to false
  infinite = false, // New prop with default value
  ItemComponent, 
  ...rest
} = Astro.props;
    
// 1) Fetch items using your dynamic queries system
//    Pass any extra props (in rest) if your query needs them
const items = await executeQuery(queryName, rest);
---
    
<ReactSlider
  client:load
  items={items}
  autoplay={autoplay}
  autoplaySpeed={autoplaySpeed}
  slidesShown={slidesShown}
  slidesScrolled={slidesScrolled}
  sideArrows={sideArrows}
  slideDirection={slideDirection} 
  slideDots={slideDots} 
  infinite={infinite}
  ItemComponent={ItemComponent}
/>
