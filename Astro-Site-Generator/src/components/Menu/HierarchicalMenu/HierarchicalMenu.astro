---
import BarMenu from "./BarMenu/BarMenu.astro"; // Import the new BarMenu component
import HamburgerMenu from './HamburgerMenu/HamburgerMenu.jsx'; // Import the HamburgerMenu
import { executeQuery } from "../../../utils/queries/executeQuery.js"; // Ensure correct path

const { queryName, className = "" } = Astro.props;

// Fetch menu items based on the provided query
const menuItems = await executeQuery(queryName);
---
<nav class="hierarchical-menu" aria-label="Main Navigation">
  {/* Regular Hierarchical Menu for Larger Screens */}
  <BarMenu menuItems={menuItems} />

  {/* Hamburger Menu for Smaller Screens */}
  <HamburgerMenu Width="75%" client:load menuItems={menuItems} />
</nav>

<style>
  /* Responsive Adjustments */
  @media (max-width: 768px) {
    /* Hide the regular menu on small screens */
    .hierarchical-menu .menu-list {
      display: none;
    }
  }
</style>
