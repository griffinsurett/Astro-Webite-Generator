---
// src/components/Menu/HierarchicalMenu/HamburgerMenu/HamburgerIcon.astro

interface Props {
  transform?: boolean;
}

const { transform = true } = Astro.props as Props;
const id = 'hamburger-toggle';  // Our unique checkbox ID
---

<style>
  /* If we want the lines to become an X, we wrap them in .transform */
  .transform #hamburger-toggle:checked + label span:nth-child(1) {
    transform: rotate(45deg) translateY(0.625rem);
  }
  .transform #hamburger-toggle:checked + label span:nth-child(2) {
    opacity: 0;
  }
  .transform #hamburger-toggle:checked + label span:nth-child(3) {
    transform: rotate(-45deg) translateY(-0.625rem);
  }
</style>

<!-- 
  We wrap the checkbox + label in a parent <div> 
  that conditionally has the .transform class 
-->
<div class={transform ? 'transform' : ''}>
  <!-- Hidden checkbox -->
  <input 
    type="checkbox" 
    id={id} 
    class="hidden" 
  />

  <!-- The label is our visible "hamburger" -->
  <label
    for={id}
    class="flex flex-col justify-between w-8 h-6 cursor-pointer z-1100"
  >
    <!-- Line 1 -->
    <span class="block h-0.5 bg-gray-800 transition-transform duration-300"></span>
    <!-- Line 2 -->
    <span class="block h-0.5 bg-gray-800 transition-opacity duration-300"></span>
    <!-- Line 3 -->
    <span class="block h-0.5 bg-gray-800 transition-transform duration-300"></span>
  </label>
</div>
