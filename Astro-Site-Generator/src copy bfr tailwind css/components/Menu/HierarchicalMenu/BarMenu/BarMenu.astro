---
import SubMenu from "./SubMenu.jsx"; // Import the SubMenu component
import MenuItem from "../../MenuLink.astro"; // Import the Astro-based MenuItem
import Arrow from "../Arrow/Arrow"; // Import the Arrow component
import PropTypes from 'prop-types';

// Define props
interface Props {
  menuItems: Array<{
    label: string;
    href: string;
    children?: Array<any>;
  }>;
  className?: string;
}

const { menuItems, className = "" } = Astro.props as Props;
---
<ul class={`menu-list ${className}`} role="menubar">
  {menuItems.map((item) => (
    <li class="menu-item" role="none">
      <MenuItem
        label={item.label}
        href={item.href}
        hasChildren={item.children && item.children.length > 0}
      />
      {item.children && item.children.length > 0 && (
        <>
          <Arrow /> 
          <SubMenu items={item.children} />
        </>
      )}
    </li>
  ))}
</ul>

<style>
  .menu-list {
    list-style: none;
    display: flex;
    gap: 1rem;
    margin: 0;
    padding: 0;
  }

  .menu-item {
    position: relative;
    cursor: pointer;
  }

  .menu-item:hover {
    background-color: #f0f0f0;
  }

  .menu-item.active {
    background-color: #e0e0e0;
  }
</style>
